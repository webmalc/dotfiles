- defaults:
    link:
      create: true
      relink: true
      force: true

- clean: []
- shell:
    - 
      command: "apt install -y ranger steam-devices cryfs odt2txt caca-utils atool w3m poppler-utils mediainfo nautilus-dropbox curl chrome-gnome-shell exuberant-ctags snapd silversearcher-ag ipython ipython3 keepassx tig libsasl2-dev python-pygments highlight atool libcaca-dev python-pip python3-pip chromium-browser htop fish firefox vim-gnome redis postgresql emacs vim memcached nodejs npm virtualbox vagrant socat arc-theme gnome-shell-extensions gnome-tweak-tool network-manager-openvpn network-manager-vpnc docker.io docker ansible terminator"
      stdin: true
      stdout: true
      stderr: true
    - 
      command: "snap install telegram-desktop spotify"
      stdin: true
      stdout: true
      stderr: true

    - [chsh -s /usr/bin/fish webmalc]
    - [chsh -s /usr/bin/fish]


    - [update-alternatives --install /usr/bin/python python /usr/bin/python3.6 1]
    - [update-alternatives --config python]

    - 
      command: "apt install -y nautilus-dropbox terminator"
      stdin: true
      stdout: true
      stderr: true

    - [sed -i "s/bin\/python\s+$/bin\/python2/" -i /usr/bin/dropbox]
    - [sed -i "s/bin\/python\s+$/bin\/python2/" -i /usr/bin/terminator]

    - 
      command: "pip install python-bidi chardet virtualfish jedi json-rpc service_factory autoflake hy php isort yapf flake8 pylint ipdb mypy ranger-fm"
      stdin: true
      stdout: true
      stderr: true
    - 
      command: "npm install -g ionic@latest-3 cross-env mocha less tern js-beautify eslint typescript tslint typescript-formatter eslint-config-google"
      stdin: true
      stdout: true
      stderr: true
    - [adduser webmalc docker]
    - ['chown -R webmalc:webmalc /home/webmalc/.config/*']

